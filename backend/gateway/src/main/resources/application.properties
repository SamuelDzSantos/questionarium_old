# Porta do Gateway
server.port=14000
spring.application.name=gateway

# Chave secreta para JWT
key.secret=1029831093810283dwiajhdkwadhkauhd10283091kdjwakdjawkd

# Formato de saída do console (Logback)
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n

# Configuração do RabbitMQ
spring.rabbitmq.host=localhost
spring.rabbitmq.port=5672
spring.rabbitmq.username=admin
spring.rabbitmq.password=admin

# Netty HttpClient (Gateway) — timeouts reativos
spring.cloud.gateway.httpclient.connect-timeout=5000
spring.cloud.gateway.httpclient.response-timeout=60s

# TimeLimiter via Spring Cloud Circuit Breaker (Resilience4j)
spring.cloud.circuitbreaker.resilience4j.instances.authCircuitBreaker.timeLimiter.timeoutDuration=60s
spring.cloud.circuitbreaker.resilience4j.instances.userCircuitBreaker.timeLimiter.timeoutDuration=60s
spring.cloud.circuitbreaker.resilience4j.instances.questionCircuitBreaker.timeLimiter.timeoutDuration=60s
spring.cloud.circuitbreaker.resilience4j.instances.assessmentCircuitBreaker.timeLimiter.timeoutDuration=60s

# Circuit Breaker - Auth Service
resilience4j.circuitbreaker.instances.authCircuitBreaker.slidingWindowSize=10
resilience4j.circuitbreaker.instances.authCircuitBreaker.failureRateThreshold=50
resilience4j.circuitbreaker.instances.authCircuitBreaker.waitDurationInOpenState=10s
resilience4j.timelimiter.instances.authCircuitBreaker.timeoutDuration=60s

# Circuit Breaker - User Service
resilience4j.circuitbreaker.instances.userCircuitBreaker.slidingWindowSize=10
resilience4j.circuitbreaker.instances.userCircuitBreaker.failureRateThreshold=50
resilience4j.circuitbreaker.instances.userCircuitBreaker.waitDurationInOpenState=10s
resilience4j.timelimiter.instances.userCircuitBreaker.timeoutDuration=60s

# Circuit Breaker - Question Service
resilience4j.circuitbreaker.instances.questionCircuitBreaker.slidingWindowSize=10
resilience4j.circuitbreaker.instances.questionCircuitBreaker.failureRateThreshold=50
resilience4j.circuitbreaker.instances.questionCircuitBreaker.waitDurationInOpenState=10s
resilience4j.timelimiter.instances.questionCircuitBreaker.timeoutDuration=60s

# Circuit Breaker - Assessment Service
resilience4j.circuitbreaker.instances.assessmentCircuitBreaker.slidingWindowSize=10
resilience4j.circuitbreaker.instances.assessmentCircuitBreaker.failureRateThreshold=50
resilience4j.circuitbreaker.instances.assessmentCircuitBreaker.waitDurationInOpenState=10s
resilience4j.timelimiter.instances.assessmentCircuitBreaker.timeoutDuration=60s